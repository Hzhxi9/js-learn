<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    .arrow-tip {
      width: 0;
      height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 15px solid #222;
      position: relative;
    }

    .arrow-tip:after {
      content: '';
      display: block;
      width: 0;
      height: 0;
      position: absolute;
      bottom: -16px;
      left: -17px;
      z-index: -1;
      border-left: 17px solid transparent;
      border-right: 17px solid transparent;
      border-bottom: 17px solid red;
    }
  </style>
  <body>
    <div class="arrow-tip"></div>

    <button class="btn">按钮</button>
    <button class="btn">按钮</button>
    <button class="btn">按钮</button>
    <button class="btn">按钮</button>
    <button class="btn">按钮</button>
    <button class="btn">按钮</button>
    <button class="btn">按钮</button>
  </body>
</html>

<script>
 

  const btnes = document.querySelectorAll('.btn');
  for (var i = 0, len = btnes.length; i < len; i++) {
    (function (j) {
      btnes[j].onclick = function () {
        console.log(j);
      };
    })(i);
  }

  function sum() {
    var cache;
    if (arguments.length === 1) {
      cache = arguments[0];
      return function (args) {
        return cache + args;
      };
    } else {
      return arguments[0] + arguments[1];
    }
  }
  console.log(sum(1, 2), '==sum==');
  console.log(sum(2)(3))

  // const obj = {
  //   fn() {
  //     console.log(this, "===");
  //     return () => {
  //       console.log(this, "fn");
  //     };
  //   },
  //   fn1() {
  //     console.log(this, "===fn1===");
  //     return function () {
  //       console.log(this, "fn1");
  //     };
  //   },
  // };

  // obj.fn()();
  // obj.fn1()();

  // function Person(name) {
  //   console.log(this, "==this==");
  //   this.name = name;
  // }

  // Person.prototype.getName = function (name) {
  //   console.log(name);
  // };

  // const p = new Person("h");

  // console.log(p, "==p==");

  var obj1 = { a: 1 };

  function change(obj) {
    obj.a = 2;
    obj = {
      a: 3,
    };
    return obj;
  }

  var obj2 = change(obj1);

  console.log(obj1);
  console.log(obj2);

  // var Foo = function () {
  //   getName = function () {
  //     console.log(1);
  //   };

  // };
  // Foo.getName = function () {
  //   console.log(2);
  // };
  // Foo.prototype.getName = function () {
  //   console.log(3);
  // };
  // var getName = function () {
  //   console.log(4);
  // };
  // function getName() {
  //   console.log(5);
  // }

  // getName();
  // Foo.getName();
  // Foo().getName();
  // getName();
  // new Foo().getName();
  // var a = Object.prototype.toString;

  // console.log(a.call(2));
  // console.log(a.call(true));
  // console.log(a.call("str"));
  // console.log(a.call([]));
  // console.log(a.call(function () {}));
  // console.log(a.call({}));
  // console.log(a.call(undefined));
  // console.log(a.call(null));

  // var name = 'windows';

  // var ob = {
  //   name: 'object',
  //   getName: function () {
  //     return () => this.name;
  //   },
  // };

  // console.log(ob.getName()());

  // function fun(n, o) {
  //   console.log(o);
  //   return {
  //     fun: function (m) {
  //       return fun(m, n);
  //     },
  //   };
  // }

  // var o = {
  //   fn: function() {
  //     console.log(fn)
  //   }
  // }

  // o.fn()

  var fn = function () {
    console.log(fn);
  };
  fn();

  // var a = fun(0);
  // a.fun(1);
  // a.fun(2);
  // a.fun(3); //undefined,?,?,?
  // var b = fun(0).fun(1).fun(2).fun(3); //undefined,?,?,?
  // var c = fun(0).fun(1);
  // c.fun(2);
  // c.fun(3); //undefined,?,?,?
  // var fn1 = function fn2() {
  //   console.log('in:fn1<', typeof fn1, '>fn2:<', typeof fn2, '>');
  // };
  // console.log('out:fn1<', typeof fn1, '>fn2:<', typeof fn2, '>');
  // fn1();

  // "实现数组[ 109, 4, 2, 29, 15, 22] 的排序， 要求结果[109, 15, 2, 22, 29, 4]?"

  // console.log('1'.charCodeAt())
  // console.log('2'.charCodeAt())
  // console.log('3'.charCodeAt())
  // console.log('4'.charCodeAt())
  // console.log('5'.charCodeAt())
  // console.log('6'.charCodeAt())
  // console.log('7'.charCodeAt())
  // console.log('8'.charCodeAt())
  // console.log('9'.charCodeAt())
  // console.log('0'.charCodeAt())

  // const sortArr = [109, 4, 2, 29, 15, 22];

  // function unicodeSort(arr) {
  //   let idx = 0;
  //   const strings = arr.map((item) => item.toString());
  //   return strings.sort((a, b) => {
  //     if (a.charCodeAt(idx) === b.charCodeAt(idx)) {
  //       idx++;
  //       return a.charCodeAt(idx) - b.charCodeAt(idx)
  //     } else {
  //       idx = 0;
  //       return a.charCodeAt(idx) - b.charCodeAt(idx)
  //     }
  //   });
  // }

  // console.log(unicodeSort(sortArr));

  function foo(x) {
    var tmp = 3;
    return function f2(y) {
      console.log('temp', tmp);
      console.log(x + y + ++tmp);
    };
  }
  var bar = foo(3); // bar 现在是一个闭包
  bar(10); // 17
  bar(1); //
</script>
